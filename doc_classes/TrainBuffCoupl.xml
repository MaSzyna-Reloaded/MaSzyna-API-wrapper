<?xml version="1.0" encoding="UTF-8" ?>
<class name="TrainBuffCoupl" inherits="TrainPart" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="https://raw.githubusercontent.com/godotengine/godot/master/doc/class.xsd">
	<brief_description>
		Handles train buffers and coupling mechanisms.
	</brief_description>
	<description>
		This class manages the physical properties and logic for train couplers and buffers. It allows configuring the stiffness, damping, and tolerance limits for both the buffer (compression) and coupler (tension) components. It also handles the connection capabilities such as air pipes, electric cables, and control signals.
	</description>
	<tutorials>
	</tutorials>
	<methods>
		<method name="couple">
			<return type="void" />
			<description>
				Attempts to couple the train to a neighboring vehicle.
			</description>
		</method>
		<method name="decouple">
			<return type="void" />
			<description>
				Decouples the train from the attached vehicle.
			</description>
		</method>
	</methods>
	<members>
		<member name="allowed_flag" type="int" setter="set_allowed_flag" getter="get_allowed_flag" default="0">
			Bitmask defining the allowed connections (mechanical, pneumatic, electric, etc.). See [enum AllowedFlagBits].
		</member>
		<member name="automatic_flag" type="int" setter="set_automatic_flag" getter="get_automatic_flag" default="0">
			Bitmask defining which connections are established automatically during coupling.
		</member>
		<member name="buffer/max_compression_tolerance" type="float" setter="set_buffer_max_compression_tolerance" getter="get_buffer_max_compression_tolerance" default="0.1">
			Maximum allowed compression distance for the buffer (in meters).
		</member>
		<member name="buffer/max_tension_tolerance" type="float" setter="set_buffer_max_tension_tolerance" getter="get_buffer_max_tension_tolerance" default="1000.0">
			Maximum allowed tension force for the buffer (in kN).
		</member>
		<member name="buffer/stiffness_k" type="float" setter="set_buffer_stiffness_k" getter="get_buffer_stiffness_k" default="1.0">
			Stiffness coefficient for the buffer.
		</member>
		<member name="control_type" type="String" setter="set_control_type" getter="get_control_type" default="&quot;&quot;">
			Identifier for the control system type, used for checking compatibility between multiple units.
		</member>
		<member name="coupler/max_compression_tolerance" type="float" setter="set_coupler_max_compression_tolerance" getter="get_coupler_max_compression_tolerance" default="0.1">
			Maximum allowed compression distance for the coupler (in meters).
		</member>
		<member name="coupler/max_tension_tolerance" type="float" setter="set_coupler_max_tension_tolerance" getter="get_coupler_max_tension_tolerance" default="1000.0">
			Maximum allowed tension force for the coupler (in kN).
		</member>
		<member name="coupler/stiffness_k" type="float" setter="set_coupler_stiffness_k" getter="get_coupler_stiffness_k" default="1.0">
			Stiffness coefficient for the coupler.
		</member>
		<member name="coupler/type" type="int" setter="set_coupler_type" getter="get_coupler_type" enum="TrainBuffCoupl.CouplerType" default="0">
			The type of coupler mechanism (e.g., Automatic, Screw, Chain).
		</member>
		<member name="damping_beta" type="float" setter="set_damping_beta" getter="get_damping_beta" default="0.0">
			Damping coefficient for the coupling physics.
		</member>
		<member name="power_coupling" type="int" setter="set_power_coupling" getter="get_power_coupling" default="128">
			Bitmask defining which power lines can be coupled.
		</member>
		<member name="power_flag" type="int" setter="set_power_flag" getter="get_power_flag" default="0">
			Bitmask indicating the current power capabilities available at the coupler.
		</member>
	</members>
	<constants>
		<constant name="COUPLER_TYPE_AUTOMATIC" value="0" enum="CouplerType">
			Automatic coupler type (e.g., Scharfenberg, Janney).
		</constant>
		<constant name="COUPLER_TYPE_SCREW" value="1" enum="CouplerType">
			Standard screw coupler.
		</constant>
		<constant name="COUPLER_TYPE_CHAIN" value="2" enum="CouplerType">
			Chain coupler.
		</constant>
		<constant name="COUPLER_TYPE_BARE" value="3" enum="CouplerType">
			Bare coupler (simplified or no mechanism).
		</constant>
		<constant name="COUPLER_TYPE_ARTICULATED" value="4" enum="CouplerType">
			Articulated connection (permanent or semi-permanent).
		</constant>
		<constant name="ALLOWED_MECHANICAL" value="1" enum="AllowedFlagBits">
			Allows mechanical coupling.
		</constant>
		<constant name="ALLOWED_BRAKE_PIPE" value="2" enum="AllowedFlagBits">
			Allows brake pipe connection (pneumatic).
		</constant>
		<constant name="ALLOWED_MULTIPLE_CONTROL" value="4" enum="AllowedFlagBits">
			Allows multiple unit control signal connection.
		</constant>
		<constant name="ALLOWED_HIGH_VOLTAGE" value="8" enum="AllowedFlagBits">
			Allows high voltage heating connection.
		</constant>
		<constant name="ALLOWED_PASSAGE" value="16" enum="AllowedFlagBits">
			Allows passenger/crew passage connection.
		</constant>
		<constant name="ALLOWED_AIR_8_BAR" value="32" enum="AllowedFlagBits">
			Allows 8-bar air pipe connection (supply pipe).
		</constant>
		<constant name="ALLOWED_HEATING" value="64" enum="AllowedFlagBits">
			Allows steam/electric heating connection.
		</constant>
		<constant name="ALLOWED_FIXED_COUPLING_LOCK" value="128" enum="AllowedFlagBits">
			Indicates a fixed coupling lock.
		</constant>
		<constant name="ALLOWED_ELEC_24V" value="256" enum="AllowedFlagBits">
			Allows 24V electric cable connection.
		</constant>
		<constant name="ALLOWED_ELEC_110V" value="512" enum="AllowedFlagBits">
			Allows 110V electric cable connection.
		</constant>
		<constant name="ALLOWED_ELEC_3x400V" value="1024" enum="AllowedFlagBits">
			Allows 3x400V electric cable connection.
		</constant>
		<constant name="POWER_24V" value="256" enum="PowerFlagBits">
			Indicates presence of 24V power.
		</constant>
		<constant name="POWER_110V" value="512" enum="PowerFlagBits">
			Indicates presence of 110V power.
		</constant>
		<constant name="POWER_3x400V" value="1024" enum="PowerFlagBits">
			Indicates presence of 3x400V power.
		</constant>
	</constants>
</class>